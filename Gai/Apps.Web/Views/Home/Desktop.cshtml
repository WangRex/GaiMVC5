@using Apps.Web.Core;
@using Apps.Locale;
@using Apps.Models.Enum;
@{
    ViewBag.Title = "Doc";
    Layout = "~/Views/Shared/_Index_Layout.cshtml";
}
<script src="@Url.Content("~/Scripts/echarts.min.js")"></script>
<script src="@Url.Content("~/Scripts/echarts.theme.shine.js")"></script>
<script src="@Url.Content("~/Scripts/template.js")"></script>
<style>
 .cc .panel-header{padding:0;border:0}
.cc .panel-title{padding-left:5px;background:#fff;line-height:28px;border:0;border-bottom:1px #d3d3d3 solid;color:#666}
.cc .alphac{filter:Alpha(Opacity=70);-moz-opacity:.7;opacity:.7}
.cc{position:relative;height:200px;width:100px}
.groupSave{display:none}
.cc .panel-tool{display:none}
.checkBoxPart{width:150px;height:26px;line-height:40px;padding-left:20px}
.checkBoxPart input,.checkBoxPart lable{vertical-align:middle;vertical-align:middle;margin:0;margin-right:4px}
#dataPart,#myJobPart,#notePart,#noticePart,#shortcutPart{overflow:hidden;position:absolute}
.ddcontent{min-height:50px;padding:5px;background:#fff}
.btn.tile-button{display:block;text-align:center}
.bg-gray-alt.btn.tile-button:hover,.bg-gray.btn.tile-button:hover,.bg-white.btn.tile-button:hover .tile-header{color:#000}
.tile-header{padding:10px;font-size:14px;text-transform:uppercase;background:rgba(255,255,255,.2)}
.tile-content-wrapper{padding:10px 10px 17px;position:relative;overflow:hidden}
.tile-content{font-size:35px;text-align:right}
.tile-content span{font-size:25px;-moz-opacity:.7;filter:alpha(opacity:70);opacity:.7}
.tile-content-wrapper small{-moz-opacity:.7;filter:alpha(opacity:70);opacity:.7;text-align:right;font-size:14px;display:block}
.tile-content-wrapper>.glyph-icon{position:absolute;font-size:65px;height:70px;line-height:70px;top:50%;margin-top:-40px;-moz-opacity:.3;filter:alpha(opacity:30);opacity:.3;left:15px}
.tile-footer{padding:5px 10px;background:rgba(0,0,0,.1);text-align:left}
.tile-footer .glyph-icon{float:right}
.tile-button-alt .tile-header{padding:5px 10px;text-align:left}
.tile-button-alt .tile-content-wrapper>.glyph-icon{font-size:35px;width:100%;margin-top:-36px}
.bg-blue,.hover-blue:hover{color:#fff;background:#5bccf6}
.bg-red,.hover-red:hover{color:#fff;background:#ff5757}
.bg-gray,.hover-gray:hover{background:#efefef}
.bg-gray-alt,.hover-gray-alt{background:#dedede}
.btn.hover-gray-alt:hover,.btn.hover-gray:hover{color:#000}
.bg-black,.hover-black:hover{color:#ccc;background:#212121}
.bg-green,.hover-green:hover{color:#fff;background:#9cd159}
.bg-orange,.btn.bg-white.hover-orange:hover,.hover-orange:hover{color:#fff;background:#fa7753}
.bg-white{background:#fff}
.btn.bg-white:hover{color:#666}
.hover-white:hover{background:#fafafa}
.btn.hover-white:hover{color:#666}
.bg-yellow,.hover-yellow:hover{color:#fff;background:#fc0}
.bg-purple,.hover-purple:hover{color:#fff;background:#984dff}
.bg-blue-alt,.hover-blue-alt:hover{color:#fff;background:#65a6ff}
.bg-azure,.hover-azure:hover{color:#fff;background:#41e5c0}
#shortcutPartContent table td small {
    font-weight: bolder;
    color: #000;
}
</style>
<script type="text/javascript">
    //修改，筛选，保存
    $(function () {
        $(".groupSave").hide();
        var editFlag = false;
        $(".cc").height($(window).height() - 41);
        $(window).resize(function () { $(".cc").height($(window).height() - 41); });
        $('#shortcutPart,#noticePart,#myJobPart,#dataPart,#notePart,#dd8,#dd9').draggable({ edge: 5 }).resizable();
        //选中的将变成最顶层
        $(".cc div").mousedown(function () {
            $(".cc div").css("z-index", "0").removeClass("alphac");
            $(this).css("z-index", "1").addClass("alphac");
        }).mouseup(function () {
            $(".cc div").removeClass("alphac");
        });

        $(".cc div").mousedown(function () {
            $(".cc div").css("z-index", "0").removeClass("alphac");
            $(this).css("z-index", "1").addClass("alphac");
        }).mouseup(function () {
            $(".cc div").removeClass("alphac");
        });
        $('#shortcutPart,#noticePart,#myJobPart,#dataPart,#notePart').draggable('disable').resizable('disable');
        $("#mydialog input[type='checkbox']").each(function (i) {
            if ($(this).prop("checked")) {

            }
        });
        //初始化筛选
        for (var i = 1; i < 10; i++) {
            if ($("#dd" + i).is(":hidden")) {
                $("#cdd" + i).removeAttr("checked");
            }
            else {

                $("#cdd" + i).attr("checked", "true");
            }
        }
        $("#Edit").click(function () {

            $.messageBox5s('@Resource.Tip', '您现在可以进行部件删减，以及部件大小的调整！');
            $('#shortcutPart,#noticePart,#myJobPart,#dataPart,#notePart,#dd8,#dd9').draggable('enable').resizable('enable').css("border", "1px #ff6600 dashed");
            $(".panel-tool").show();
            $(".groupSave").show();
            $(".groupEdit").hide();
            editFlag = true;
        });
        //单项去除
        $(".cc .panel-tool-close").click(function () {
            $(this).parent().parent().parent().hide();

            $.messageBox5s('@Resource.Tip', '您可以［部件筛选］中让他重新显示！');
        });
        $("#Save").click(function () {
            if (editFlag) {
                editFlag = false;
                //取出数据，保存html
                for (var i = 1; i < 10; i++) {
                    $("#content" + i).html("");
                }
                $('#shortcutPart,#noticePart,#myJobPart,#dataPart,#notePart').draggable('disable').resizable('disable').css("border", "");
                $(".cc .panel-tool").hide();

                //此处进行保存数据
                //////////////////////////////////////////////////////////////////////////////////////
                $("#JsSet").html("");
                $.post("../Home/SaveHtml", { html: $(".cc").html() }, function (data) { }, "json");
                /////////////////////////////////////////////////////////////////////////////////////
                //重新加载数据，重新绑定
                $(".cc div").unbind().mousedown(function () {
                    $(".cc div").css("z-index", "0").removeClass("alphac");
                    $(this).css("z-index", "1").addClass("alphac");
                }).mouseup(function () {
                    $(".cc div").removeClass("alphac");
                });
                LoadData();

                $.messageBox5s('@Resource.Tip', '保存成功！');

                $(".groupSave").hide();
                $(".groupEdit").show();
            } else {
                $.messageBox5s('@Resource.Tip', '没有什么需要保存的！');
            }
        });
        $("#Choice").click(function () {
            $("#modalwindow").window({ title: '筛选', width: 250, height: 320, iconCls: 'fa fa-filter', resizable: false }).window('open');
        });
        $("#ChoiceSave").click(function () {
            $("#modalwindow").window("close");
        });
        $(".checkBoxPart input").click(function () {
            if ($(this).prop("checked")) {
                $("#" + $(this).val()).show();
            }
            else {
                $("#" + $(this).val()).hide();
            }
        });
        $("#Reset").click(function () {
            $.messager.confirm('复位提醒', '您确定要重置部件的位置和个数吗?', function (r) {
                if (r) {
                    $.post("../Home/SaveHtml", { html: "" }, function (data) {
                        location.reload();
                    }, "json");

                    LoadData();
                }
            });
        });
        LoadData();
    });
    //加载
    function LoadData() {
        //初始化筛选
        //$("#noticePartContent").html("<div class=\"panel-loading\">Loading...</div>");
        //$("#dataPartContent").html("<div class=\"panel-loading\">Loading...</div>");
        //$("#notePartContent").html("<div class=\"panel-loading\">Loading...</div>");
        //如果部件，没有被去掉，那么就加载数据
        if (!$("#shortcutPart").is(":hidden")) {
            Load_ShortcutPart();
        }
        if (!$("#noticePart").is(":hidden")) {
            Load_NoticePart();
        }
        if (!$("#myJobPart").is(":hidden")) {
            Load_MyJobPart();
        }
        if (!$("#dataPart").is(":hidden")) {
            Load_DataPart();
        }
        if (!$("#notePart").is(":hidden")) { 
            Load_NotePart();
        }
    }

    function Load_ShortcutPart() {
        $.post("/LianTong/LianTong_ProjectContracts/contractsCNTJsonList", function (data) {
            var html = template('ContractCnt-template', data);
            $("#shortcutPartContent").html(html);
        }, "json");
    }
    function Load_NoticePart() {
        $.post("../Home/GetPartDataByNotice", function (data) { $("#noticePartContent").html(data); }, "json");
    }
    function Load_MyJobPart() {
        $.post("../Home/Desktop_MyJobPart", function (data) {
            var str = "";
            str = str + "<table style=\"width:100%\">";
            for (var i = 0; i < data.rows.length;i++)
            {
                str = str + "<tr style='height:33px;line-height:33px; padding:5px;'><td>" + getFlowLevel(data.rows[i].FormLevel) + "&nbsp;【" + data.rows[i].contractNum + "-" + data.rows[i].CurrentStep + "】【&nbsp;期限：" + data.rows[i].validDate + "】</a></td><td class=\"color-black\" style=\"width:75px\">[" + data.rows[i].Title + "]</td></tr>";
            }
            str = str + "</table>";
            $("#myJobPartContent").html(str);
        }, "json");

    }
    function getFlowLevel(value)
    {
        if(value=="@((int)FlowFormLevelEnum.Ordinary)"){return "<span class='label label-success'>普通</span>";}
        if(value=="@((int)FlowFormLevelEnum.Major)"){return "<span class='label label-info'>重要</span>";}
        if(value=="@((int)FlowFormLevelEnum.Urgent)"){return "<span class='label label-error'>紧急</span>";}
        return "";
    }
    function getCurrentState(value)
    {
        var _pass = "<span class='label label-success'>已结束</span>";
        var _progress = "<span class='label label-info'>进行中</span>";
        var _reject = "<span class='label label-error'>已驳回</span>";
        var _close = "<span class='label label-error'>已超时</span>";
        if(value=="@((int)FlowStateEnum.Pass)"){ return _pass;}
        if(value=="@((int)FlowStateEnum.Progress)"){ return _progress;}
        if (value == "@((int)FlowStateEnum.Reject)") { return _reject; }
        return _close;
    }
    function Load_DataPart() {
        $.post("/LianTong/LianTong_ProjectContracts/outlineCostReport", function (data) {
            var list = [];
            var depList = [];
            $.each(data, function (key, value) {
                if (key != "TotalC") {
                    var obj = {};
                    obj.value = value;
                    obj.name = key;
                    list.push(obj);
                    depList.push(name);
                }
            });
            var option = {
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b}: {c} ({d}%)"
                },
                title: {
                    text: '工程概算费统计' + data.TotalC + ' 元'
                },
                legend: {
                    orient: 'vertical',
                    x: 'left',
                    data: depList
                },
                series: [
                    {
                        name: '工程概算费统计',
                        type: 'pie',
                        data: list
                    }
                ]
            };

            $("#dataPartContent").attr("style", "border:0px;width:" + (SetGridWidthSub(10) / 2 - 40) + "px;height:320px;");
            var myChart = echarts.init(document.getElementById('dataPartContent'), "shine");

            myChart.setOption(option);
        }, "json");
    }
    function Load_NotePart() { 
        $.post("/LianTong/LianTong_ProjectContracts/contractsCNTJsonList", function (data) {
            var obj = {};
            if (data.total == 0) {
                obj.NewContractsPercent = 0;
                obj.ApproveWaitPercent = 0;
                obj.FullWaitPercent = 0;
                obj.CheckWaitPercent = 0;
                obj.InvoiceWaitPercent = 0;
                obj.PaymentsWaitPercent = 0;
                obj.OverContractsPercent = 0;
            } else {
                obj.NewContractsPercent = (data.NewContracts / data.total) * 100;
                obj.ApproveWaitPercent = (data.ApproveWait / data.total) * 100;
                obj.FullWaitPercent = (data.FullWait / data.total) * 100;
                obj.CheckWaitPercent = (data.CheckWait / data.total) * 100;
                obj.InvoiceWaitPercent = (data.InvoiceWait / data.total) * 100;
                obj.PaymentsWaitPercent = (data.PaymentsWait / data.total) * 100;
                obj.OverContractsPercent = (data.OverContracts / data.total) * 100;
            }
            var html = template('notePartContent-template', obj);
            $("#notePartContent").html(html);
            $(".easyui-progressbar").progressbar();
        }, "json");
        //setProgressbarColor( $('#pb1').progressbar('getValue'),"pb1");
        //setProgressbarColor( $('#pb2').progressbar('getValue'),"pb2");
        //setProgressbarColor( $('#pb3').progressbar('getValue'),"pb3");
        //setProgressbarColor( $('#pb4').progressbar('getValue'),"pb4");
    }
    function setProgressbarColor(value,id)
    {
        if (value < 100){  
            value += Math.floor(Math.random() * 2);  
            if(value<=30){  
                $("#"+id+" .progressbar-value .progressbar-text").css("background-color","#DF4134");  
            }else if (value<=70){  
                $("#"+id+" .progressbar-value .progressbar-text").css("background-color","#EABA0A");  
            }else if (value>70){  
                $("#"+id+" .progressbar-value .progressbar-text").css("background-color","#53CA22");  
            }  
            setTimeout(arguments.callee, 200);  
        }  
    }
    //动态设置宽度
    function promptValue(id) {
        $.messager.prompt('设置部件宽度', '请输入宽度，格式：<font color="red">50%</font>或<font color="red">500px</font>', function (r) {
            if (r) {
                $("#" + id).width(r);
            }
        });
    }
    function ShowInfo(name, url) {
        $("#modalwindowArticle").html("<iframe width='100%' height='100%' scrolling='auto' frameborder='0''  src='/MIS/Article/Details?id="+url+"'></iframe>");
        $("#modalwindowArticle").window({ title: name, width: 800, height: 600, iconCls: 'fa fa-list' }).window('open');
    }
    function SetWebpartLayout() {
        var winWidth = $(window).width();
        var winHeight = $(window).height();
        if (winHeight < 800)
        {
            winWidth = 1280;
            winHeight = 800;
        }
        var _windowWidth = winWidth - 10;
        var _windowHeight = winHeight-12;
        $("#shortcutPart").width(_windowWidth - 50).height(140);
        var ddw = $("#shortcutPart").width();
        var ddh = $("#shortcutPart").height()
        $("#noticePart,#myJobPart,#dataPart,#notePart").width(_windowWidth / 2 - 40);
        $("#shortcutPart,#noticePart,#dataPart").css("left", 0);
        $("#myJobPart,#notePart").css("left", ddw / 2 + 7);
        $("#shortcutPart").css("top", 0);
        $("#noticePart,#myJobPart").css("top", ddh + 7);
        $("#notePart,#dataPart").css("top", _windowHeight - 400);
    }
</script>
<div id="modalwindowArticle" class="easyui-window" data-options="modal:true,closed:true,minimizable:false,shadow:false"></div>
<div id="modalwindow" class="easyui-window" style="width:250px; height:320px;" data-options="modal:true,closed:true,minimizable:false,shadow:false">
    <div class="mvctool bgb">
        @Html.ToolButton("ChoiceSave", "fa fa-cog", Resource.Save, false)
    </div>
    <div class="checkBoxPart">
        <input id="cshortcutPart" type="checkbox" value="shortcutPart" /><lable>待办事项</lable>
    </div>
    <div class="checkBoxPart">
        <input id="cnoticePart" type="checkbox" value="noticePart" />我的申请
    </div>
    <div class="checkBoxPart">
        <input id="cmyJobPart" type="checkbox" value="myJobPart" />我的批阅
    </div>
    <div class="checkBoxPart">
        <input id="cdataPart" type="checkbox" value="dataPart" />数据统计
    </div>
    <div class="checkBoxPart">
        <input id="cnotePart" type="checkbox" value="notePart" />留言板
    </div>
</div>
<div class="mvctool" style="float:right; margin-right:40px;">
    <div class="groupEdit">
        @Html.ToolButton("Edit", "fa fa-cog", "", false)
    </div>
    <div class="groupSave">
        @Html.ToolButton("Save", "fa fa-save", "完成", true)
        @Html.ToolButton("Choice", "fa fa-filter", "部件筛选", true)
        @Html.ToolButton("Reset", "fa fa-refresh", "部件复位", false)
    </div>
</div>
<div style="padding:0px 23px;clear:both">
    <div class="cc">
        @if (string.IsNullOrEmpty(ViewBag.Value))
        {
            <div id="shortcutPart" class="easyui-draggable panel" data-options="handle:'#title1'">
                <div id="shortcutPartContent" class="panel-body ddcontent" style="border: 0;width:100%">
                </div>
            </div>
            <div id="noticePart" class="easyui-draggable" data-options="handle:'#noticeTitle'">
                <div id="noticeTitle" class="panel-header" style="border: 0">
                    <div class="panel-title" style="">
                        <span class="fa fa-bullhorn"></span>&nbsp;&nbsp;最新公告(Top 6)
                    </div>
                    <div class="panel-tool">
                        <a href="javascript:promptValue('noticePart')" class="panel-tool-max"></a><a href="javascript:void(0)"
                                                                                                     class="panel-tool-close"></a>
                    </div>
                </div>
                <div id="noticePartContent" class="panel-body ddcontent" style="border: 0">
                    
                </div>
            </div>
            <div id="myJobPart" class="easyui-draggable" data-options="handle:'#title5'">
                <div id="title5" class="panel-header" style="border: 0">
                    <div class="panel-title" style="">
                        <span class="fa fa-tasks"></span>&nbsp;&nbsp;我的批阅(Top 6)
                    </div>
                    <div class="panel-tool">
                        <a href="javascript:promptValue('myJobPart')" class="panel-tool-max"></a><a href="javascript:void(0)"
                                                                                                    class="panel-tool-close"></a>
                    </div>
                </div>
                <div id="myJobPartContent" class="panel-body ddcontent" style="border: 0">
                    <table id="List"></table>
                </div>
            </div>
            <div id="dataPart" class="easyui-draggable" data-options="handle:'#title6'">
                <div id="title6" class="panel-header" style="border: 0">
                    <div class="panel-title" style="">
                        <span class="fa fa-pie-chart"></span>&nbsp;&nbsp;数据统计
                    </div>
                    <div class="panel-tool">
                        <a href="javascript:promptValue('dataPart')" class="panel-tool-max"></a><a href="javascript:void(0)"
                                                                                                   class="panel-tool-close"></a>
                    </div>
                </div>
                <div id="dataPartContent" class="panel-body ddcontent" style="border: 0; background:#fff">
                    <div class="panel-loading">
                        Loading...
                    </div>
                </div>
            </div>
            <div id="notePart" class="easyui-draggable" data-options="handle:'#title7'">
                <div id="title7" class="panel-header" style="border: 0">
                    <div class="panel-title" style="">
                        <span class="fa fa-tags"></span>&nbsp;&nbsp;项目进度
                    </div>
                    <div class="panel-tool">
                        <a href="javascript:promptValue('notePart')" class="panel-tool-max"></a><a href="javascript:void(0)"
                                                                                                   class="panel-tool-close"></a>
                    </div>
                </div>
                <div id="notePartContent" class="panel-body ddcontent" style="border: 0">
                    
                </div>
            </div>
            <script id="JsSet">
                $(function () { SetWebpartLayout(); });
                $(window).resize(function () {
                    SetWebpartLayout();
                    $('#List').datagrid('resize', {
              
                    }).datagrid('resize', {
                        width:   $(window).width/2-40

                    });
                });
            </script>
        }
        else
        {
            @Html.Raw(ViewBag.Value)
        }
    </div>
</div>
<script id="ContractCnt-template" type="text/html">
    <table style="width:100%;">
        <tr>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-red" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-tasks"></i>
                            <div class="tile-content">
                                <span></span>
                                {{NewContracts}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-pagelines"></i>
                                新建合同
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-red" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-tasks"></i>
                            <div class="tile-content">
                                <span></span>
                                {{ConnectWait}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-pagelines"></i>
                                等待关联
                            </small>
                        </div>
                        <div class="tile-footer">

                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-green" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-bar-chart fa-5x"></i>
                            <div class="tile-content">
                                <span></span>
                                {{ApproveWait}}
                            </div>
                            <small>
                                <i class="glyph-icon"></i>
                                合同送审
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-blue-alt" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-history fa-5x"></i>
                            <div class="tile-content">
                                <span></span>
                                {{FullWait}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-line-chart"></i>
                                合同补全
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-azure" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-users"></i>
                            <div class="tile-content">
                                <span></span>
                                {{CheckWait}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-crosshairs"></i>
                                合同审定
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-red" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-tasks"></i>
                            <div class="tile-content">
                                <span></span>
                                {{InvoiceWait}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-pagelines"></i>
                                合同开票
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-red" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-tasks"></i>
                            <div class="tile-content">
                                <span></span>
                                {{PaymentsWait}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-pagelines"></i>
                                合同回款
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
            <td style="width:12.5%">
                <div style="width:95%;">
                    <a href="javascript:;" class="tile-button btn bg-red" title="">
                        <div class="tile-content-wrapper">
                            <i class="glyph-icon fa fa-tasks"></i>
                            <div class="tile-content">
                                <span></span>
                                {{OverContracts}}
                            </div>
                            <small>
                                <i class="glyph-icon fa fa-pagelines"></i>
                                合同完结
                            </small>
                        </div>
                        <div class="tile-footer">
                            
                        </div>
                    </a>
                </div>
            </td>
        </tr>
    </table>
</script>
<script id="notePartContent-template" type="text/html">
    <div style="min-width:400px; line-height:30px;">
        <p>新建合同</p>
        <div id="pb1" class="easyui-progressbar" data-options="value:{{NewContractsPercent}}" style="width:100%;"></div>
        <p>合同送审</p>
        <div id="pb2" class="easyui-progressbar" data-options="value:{{ApproveWaitPercent}}" style="width:100%;"></div>
        <p>合同补全</p>
        <div id="pb3" class="easyui-progressbar" data-options="value:{{FullWaitPercent}}" style="width:100%;"></div>
        <p>合同审订</p>
        <div id="pb4" class="easyui-progressbar" data-options="value:{{CheckWaitPercent}}" style="width:100%;"></div>
        <p>合同开票</p>
        <div id="pb5" class="easyui-progressbar" data-options="value:{{InvoiceWaitPercent}}" style="width:100%;"></div>
        <p>合同回款</p>
        <div id="pb6" class="easyui-progressbar" data-options="value:{{PaymentsWaitPercent}}" style="width:100%;"></div>
        <p>合同完结</p>
        <div id="pb7" class="easyui-progressbar" data-options="value:{{OverContractsPercent}}" style="width:100%;"></div>
    </div>
</script>